<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=640"/>
    <link charset="utf-8" href="css/down.min.css" rel="stylesheet">
    <script charset="utf-8" src="js/highlight.min.js" type="text/javascript"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <title></title>
    <style>DOWN_CSS</style>
</head>
<body>

    DOWN_HTML
    
    <script>
        var preList = document.getElementsByTagName("code"),
        length = preList.length,
        i = 0;
        
        for (i; i < length; i++) {
            if (preList[i].parentNode.tagName != "PRE") {
                continue;
            }
            
            var copy = document.createElement("img");
            copy.src = "copy.png";
            copy.classList.add('copyCode');
            
            copy.addEventListener("click", function(event) {
                event.target.style.background = "#FFDC00"
                setTimeout(function() {
                    event.target.style.background = "white"
                }, 500)
                                  
                window.webkit.messageHandlers.notification.postMessage(
                    event.target.parentNode.getElementsByTagName("code")[0].textContent
                );
            })
            
            copy.addEventListener("mouseenter", function(event) {
                window.webkit.messageHandlers.mouseover.postMessage("in");
            });
            
            copy.addEventListener("mouseleave", function(event) {
                window.webkit.messageHandlers.mouseout.postMessage("out");
            });
            
            var parentDiv = preList[i].parentNode;
            parentDiv.insertBefore(copy, preList[i]);
        }
    </script>
</body>
</html>
